# 2026-02-01 작업 기록

## 요약
- 총 작업 수: 2개
- 대상 모델: Model B (간경변 진행 단계 예측)
- 주요 성과: 모델 성능 고도화 및 FastAPI 서빙 시스템 기능 개선

---

## 작업 1: Model B 고도화 (진행 단계 예측 모델)

### 무엇을
- 대상: table_data/model_b_progression.ipynb
- 범위: 간경변 3단계(Stage 1, 2, 3) 다중 분류 모델 리팩토링 및 앙상블 적용

### 어떻게
- 방법: Random Forest, XGBoost, LightGBM 기반의 Voting Ensemble 구현
- 피처 엔지니어링: ALBI, APRI, FIB-4, PALBI 등 의료 지표 생성 로직 통합
- 전처리: 변수별 로그 변환 및 최적화된 스케일링 적용

### 왜
- 배경: 단일 모델 사용 시의 성능 한계 극복 필요
- 목적: 모델의 예측 정확도 향상 및 의료적 전문 지표 활용을 통한 신뢰도 확보

### 결과
- 3단계 다중 분류 모델 구축 완료
- 주요 의료 파생 지표 5종 자동 생성 로직 통합 완료

---

## 작업 2: FastAPI 기반 서빙 시스템 개선

### 무엇을
- 대상: table_data/serving.py
- 범위: 사용자 입력 편의성 개선 및 설명 가능한 AI(XAI) 기능 강화

### 어떻게
- 입력 개선: 나이 단위를 '일'에서 '세'로 변경, 불필요 변수(N_Days) 제거
- UI 개선: Bootstrap 기반 디자인 적용
- XAI 구현:
  - 동적 SHAP 분석: 추론마다 가장 신뢰도 높은 모델을 선택하여 SHAP Waterfall Plot 제공
  - 대시보드: 하단에 5개 주요 의료 지표 실시간 계산 결과 노출

### 왜
- 배경: 기존 시스템의 입력 방식이 불친절하고 결과에 대한 설명력 부족
- 목적: 실제 사용 환경에서의 편의성 증대 및 인공지능 예측의 투명성 확보

### 결과
- 사용자 입력 변수 간소화 및 단위 최적화 완료
- 실시간 SHAP 분석 시각화 기능 탑재
- 실시간 의료 지표 대시보드 구축 완료
